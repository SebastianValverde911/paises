<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Sitios</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- <ion-button style="color: white;margin:10px 0; margin-left: 10px;">Crear sitio</ion-button> -->
  <ion-button id="open-modal"  style="color: white;margin:10px 0;margin-left: 10px;">Crear sitio</ion-button>
  <ion-list>
    <ion-item>
      <ion-select label="Escoge un país" placeholder="País">
        @for (pais of paises; track pais.id) {
            <ion-select-option [value]="pais.id">{{ pais.name }}</ion-select-option>
          }
      </ion-select>
    </ion-item>
  </ion-list>
  <!-- <ion-list>a
    <ion-item *ngFor="let site of sites">
      <ion-label>
        <h2>{{ site.name }}</h2>
        <p>{{ site.description }}</p>
      </ion-label>
      <ion-button fill="outline" slot="end" (click)="editSite(site)">Editar</ion-button>
      <ion-button fill="danger" slot="end" (click)="deleteSite(site.id)">Eliminar</ion-button>
    </ion-item> -->

<ion-content class="ion-padding">
  <ion-modal trigger="open-modal" (willDismiss)="onWillDismiss($event)">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button (click)="cancel()">Cancelar</ion-button>
          </ion-buttons>
          <ion-title>Info</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="confirm()" [strong]="true">Confirmar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <ion-item>
          <ion-input
            label="Nombre del sitio"
            labelPlacement="stacked"
            type="text"
            placeholder="Nombre sitio"
            [(ngModel)]="name"
            (ionInput)="onInputChange($event, 'name')"
          ></ion-input>
        </ion-item>
        <ion-item>
          <ion-input
            label="Tipo de sitio"
            labelPlacement="stacked"
            type="text"
            placeholder="Tipo sitio"
            [(ngModel)]="type"
            (ionInput)="onInputChange($event, 'type')"
          ></ion-input>
        </ion-item>
        <ion-item>
          <ion-input
            label="Descripcion del sitio"
            labelPlacement="stacked"
            type="text"
            placeholder="Descripción sitio"
            [(ngModel)]="description"
            (ionInput)="onInputChange($event, 'description')"
          ></ion-input>
        </ion-item>
        <ion-item >
          <ion-select
            label="País"
            labelPlacement="stacked"
            placeholder="Selecciona un país"
            [(ngModel)]="countryId"
            (ionChange)="searchCity($event)"
          >
          @for (pais of paises; track pais.id) {
            <ion-select-option [value]="pais.id">{{ pais.name }}</ion-select-option>
          }
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-select
            label="Ciudad"
            labelPlacement="stacked"
            placeholder="Selecciona una ciudad"
            [(ngModel)]="cityId"
          >
             @for (ciudad of ciudades; track ciudad.id) {
            <ion-select-option [value]="ciudad.id">{{ ciudad.name }}</ion-select-option>
          }
          </ion-select>
        </ion-item>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
</ion-content>
